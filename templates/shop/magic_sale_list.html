{% extends 'base/base.html' %}
{% load static %}


{% block content %}
<div class="container my-5">
    <h2 class="text-center p-4">شگفت انگیز ها</h2>
    <div class="row infinite-container">

        {% for product in products %}
        {% include 'base/single_product.html' %}
        {% endfor %}

    </div>


{#    <!-- pagination -->#}
{#    {% if page_obj.has_next %}#}
{#          <a class="infinite-more-link" href="?page={{ page_obj.next_page_number }}"></a>#}
{#    {% endif %}#}
{#    <div class="d-flex justify-content-center" style="display: none">#}
{#          <div class="spinner-border loading" role="status" aria-hidden="true"></div>#}
{#    </div>#}
</div>
{% endblock content %}
    

{% block custom_js %}
  <script>
    var infinite = new Waypoint.Infinite({
      element: $('.infinite-container')[0],
        offset: 'bottom-in-view',
      onBeforePageLoad: function () {
        $('.loading').show();
      },
      onAfterPageLoad: function ($items) {
        $('.loading').hide();
      }
    });
  </script>
{% endblock %}